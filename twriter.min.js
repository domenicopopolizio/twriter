class TWriter{constructor(t){this.element=t,this.duration=parseInt(t.dataset.twrDuration)||2e3,this.txt=t.innerHTML.replace(/\n/g,"").replace(/<br[^>]*>/gi,"\n"),this.written=0,this.timePerLetter=Math.floor(this.duration/this.txt.length),t.innerHTML=""}async start(){for(let t=0;t<this.txt.length;t++)await this.writeLetter()}writeLetter(){return new Promise((t,e)=>{setTimeout(()=>{if(this.written>=this.txt.length)e();else{let e=this.txt[this.written++];"\n"==e&&(e="<br>"),this.element.innerHTML+=e,t()}},this.timePerLetter)})}}
